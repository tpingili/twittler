<!DOCTYPE html>
<html>
  <head>
    <title>Twittler</title>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var index = 0;
        var totalTweets;
        var $tweetsList = $('#tweetsList');
        refreshTweets();

        function refreshTweets(){
          totalTweets = streams.home.length;
          //iterating through the tweets array and constructing the tweet along with the timestamp and prepending it to the div
          while(index < totalTweets){
            var tweet = streams.home[index];
            var $tweet = $('<div></div>');
            $tweet.text('@' + tweet.user + ': ' + tweet.message + '  ' + tweet.created_at.toISOString());
            $tweetsList.prepend($tweet);
            index++;
          }
        }
        
      $('#refresh').click(function(){
        refreshTweets();
      });

    });

    </script>
    <h2> Twittler </h2>
    <button id="refresh">Refresh</button>
    <div id ="tweetsList"></div>
  </body>
</html>
